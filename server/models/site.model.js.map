{"version":3,"sources":["../../../server/models/site.model.js"],"names":["extend","require","Schema","BaseSchema","schema","async","SiteSchema","team","Array","tasksToday","tasksCompleted","rooms","type","Types","ObjectId","ref","mainColor","String","subColor","reoccurringTasks","displayName","isNonGrow","Boolean","default","pre","populateRooms","next","populate","model"],"mappings":";;;;;;AAGA;;;;AAGA;;;;;;AAFA,IAAIA,SAASC,QAAQ,wBAAR,CAAb,C,CAJA;;;;AAKA,IAAIC,SAAS,mBAASA,MAAtB;;AAEA,IAAIC,aAAa,eAAUC,MAA3B;AACA,IAAIC,QAAQJ,QAAQ,OAAR,CAAZ;;AAGA,IAAIK,aAAaH,WAAWH,MAAX,CAAkB;AACjCO,QAAOC,KAD0B;AAEjCC,cAAaD,KAFoB;AAGjCE,kBAAiBF,KAHgB;AAIjCG,SAAQ,CAAC,EAACC,MAAMV,OAAOW,KAAP,CAAaC,QAApB,EAA8BC,KAAK,MAAnC,EAAD,CAJyB;AAKjCC,aAAYC,MALqB;AAMjCC,YAAWD,MANsB;AAOjCE,oBAAmB,CAAC,EAACP,MAAMV,OAAOW,KAAP,CAAaC,QAApB,EAA8BC,KAAK,cAAnC,EAAD,CAPc;AAQjCK,eAAcH,MARmB;AASjCI,aAAY,EAACT,MAAMU,OAAP,EAAgBC,SAAU,KAA1B;AATqB,CAAlB,CAAjB;;AAYAjB,WAAWkB,GAAX,CAAe,MAAf,EAAsBC,aAAtB;;AAEA,SAASA,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,OAAKC,QAAL,CAAc,OAAd;AACAD;AACD;;kBAGc,mBAASE,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,C","file":"site.model.js","sourcesContent":["/**\n * Created by Danny on 7/13/16.\n */\nimport mongoose from 'mongoose';\nvar extend = require('mongoose-schema-extend');\nvar Schema = mongoose.Schema;\nimport BaseModel from './base.model';\nvar BaseSchema = BaseModel.schema;\nvar async = require('async');\n\n\nvar SiteSchema = BaseSchema.extend({\n  team : Array,\n  tasksToday : Array,\n  tasksCompleted : Array,\n  rooms : [{type: Schema.Types.ObjectId, ref: 'Room'}],\n  mainColor : String,\n  subColor : String,\n  reoccurringTasks : [{type: Schema.Types.ObjectId, ref: 'TimelineTask'}],\n  displayName : String,\n  isNonGrow : {type: Boolean, default : false}\n})\n\nSiteSchema.pre('find',populateRooms)\n\nfunction populateRooms(next) {\n  this.populate('rooms')\n  next();\n}\n\n\nexport default mongoose.model('Site', SiteSchema);\n"]}